//
// First, we'll add Ground Construction support to the EL workshop.
//
@PART[KKAOSS_Workshop]:NEEDS[GroundConstruction]
{
    MODULE
	{
		name = GroundWorkshop
		Efficiency = 3
	}
}


// The two workshops - based on the EL-workshops.

// This is for the 'stage 1' resources: Polymers, MaterialKits, Organics
+PART[KKAOSS_Workshop]:NEEDS[KolonyTools]
{
    @name = KKAOSS_MKSAddon_Industry_hab_A
    @title = K&K Automated Production Management Station

    !MODULE[ExConverter] {}
    !RESOURCE[RocketParts] {}

    @MODULE[GroundWorkshop]
    {
        @Efficiency = 2
    }

    MODULE
	{
		name = ModuleSwappableConverter
		bayName = Bay 1
		typeName = Bay
		ResourceCosts = SpecializedParts,5,MaterialKits,1,ElectricCharge,3
	}
    MODULE
	{
		name = ModuleSwappableConverter
		bayName = Bay 2
		typeName = Bay
		ResourceCosts = SpecializedParts,5,MaterialKits,1,ElectricCharge,3
	}
	MODULE
	{
		name = ModuleSwappableConverter
		bayName = Bay 3
		typeName = Bay
		ResourceCosts = SpecializedParts,5,MaterialKits,1,ElectricCharge,3
	}

}

// This is for the 'stage 2' resources: SpecializedParts, Machinery, ColonySupplies
+PART[KKAOSS_Workshop]:NEEDS[KolonyTools]
{
    @name = KKAOSS_MKSAddon_Industry_hab_B
    @title = K&K Parts Production Station

    !MODULE[ExConverter] {}
    !RESOURCE[RocketParts] {}

    @MODULE[GroundWorkshop]
    {
        @Efficiency = 2
    }

    MODULE
	{
		name = ModuleSwappableConverter
		bayName = Bay 1
		typeName = Bay
		ResourceCosts = SpecializedParts,5,MaterialKits,1,ElectricCharge,3
	}
    MODULE
	{
		name = ModuleSwappableConverter
		bayName = Bay 2
		typeName = Bay
		ResourceCosts = SpecializedParts,5,MaterialKits,1,ElectricCharge,3
	}
	MODULE
	{
		name = ModuleSwappableConverter
		bayName = Bay 3
		typeName = Bay
		ResourceCosts = SpecializedParts,5,MaterialKits,1,ElectricCharge,3
	}


}

//
// The two 'automated facilities' - based on the EL-smelters.
//

// This is for the 'stage 1' resources: Polymers, MaterialKits, Organics
+PART[KKAOSS_Smelter]:NEEDS[KolonyTools]
{
    @name = KKAOSS_MKSAddon_Industry_auto_A
    @title = K&K Automated Production Facility

    !MODULE[ExConverter] {}
    !MODULE[ExConverter] {}
    !RESOURCE[Metal] {}
    !RESOURCE[MetalOre] {}
    !RESOURCE[ScrapMetal] {}

    MODULE
	{
		name = ModuleSwappableConverter
		bayName = Bay 1
		typeName = Bay
		ResourceCosts = SpecializedParts,5,MaterialKits,1,ElectricCharge,3
	}
    MODULE
	{
		name = ModuleSwappableConverter
		bayName = Bay 2
		typeName = Bay
		ResourceCosts = SpecializedParts,5,MaterialKits,1,ElectricCharge,3
	}
	MODULE
	{
		name = ModuleSwappableConverter
		bayName = Bay 3
		typeName = Bay
		ResourceCosts = SpecializedParts,5,MaterialKits,1,ElectricCharge,3
	}

}

// This is for the 'stage 2' resources: SpecializedParts, Machinery, ColonySupplies
+PART[KKAOSS_Smelter]:NEEDS[KolonyTools]
{
    @name = KKAOSS_MKSAddon_Industry_auto_B
    @title = K&K Parts Production Aid

    !MODULE[ExConverter] {}
    !MODULE[ExConverter] {}
    !RESOURCE[Metal] {}
    !RESOURCE[MetalOre] {}
    !RESOURCE[ScrapMetal] {}

    MODULE
	{
		name = ModuleSwappableConverter
		bayName = Bay 1
		typeName = Bay
		ResourceCosts = SpecializedParts,5,MaterialKits,1,ElectricCharge,3
	}
    MODULE
	{
		name = ModuleSwappableConverter
		bayName = Bay 2
		typeName = Bay
		ResourceCosts = SpecializedParts,5,MaterialKits,1,ElectricCharge,3
	}
	MODULE
	{
		name = ModuleSwappableConverter
		bayName = Bay 3
		typeName = Bay
		ResourceCosts = SpecializedParts,5,MaterialKits,1,ElectricCharge,3
	}

}
