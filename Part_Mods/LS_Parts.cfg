//
// This file is for all MKS specific tweaks to Life-Support modules.
//

// The algae container is switchable - with MKS that should be full resources.
@PART[KKAOSS_LS_container_algae]:NEEDS[USILifeSupport]:NEEDS[KolonyTools]
{
    @MODULE[ModuleSwappableConverter]
    {
        @ResourceCosts = SpecializedParts,5,MaterialKits,1,ElectricCharge,3
    }
}

// Make the greenhouse a full-spectrum greenhouse under MKS.
@PART[KKAOSS_Greenhouse_g]:AFTER[PlanetarySurfaceStructures]:NEEDS[USILifeSupport]:NEEDS[KolonyTools]
{
    // Replace the current greenhouse entirely - it's cleaner, since they have different options.
    !MODULE[PlanetaryGreenhouse] {}

    RESOURCE
	{
		name = Machinery
		amount = 200
		maxAmount = 200
	}

    MODULE
	{
		name = ModuleResourceConverter_USI
		ConverterName = Agroponics
		StartActionName = Start Agroponics
		StopActionName = Stop Agroponics

		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = BotanySkill
		Efficiency = 1

		INPUT_RESOURCE
		{
			ResourceName = Mulch
			Ratio =  0.0012
		}
        INPUT_RESOURCE
		{
			ResourceName = Fertilizer
			Ratio =  0.00012

		}
		OUTPUT_RESOURCE
		{
			ResourceName = Supplies
			Ratio = 0.00132
			DumpExcess = False
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 2.64
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0000040
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0000040
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 200
		}
	}

		MODULE
	{
		name = ModuleResourceConverter_USI
		ConverterName = Cultivate(S)
		StartActionName = Start Cultivate(S)
		StopActionName = Stop Cultivate(S)

		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = BotanySkill
		Efficiency = 1

		INPUT_RESOURCE
		{
			ResourceName = Substrate
			Ratio =  0.003
		}
		INPUT_RESOURCE
		{
			ResourceName = Water
			Ratio =  0.003
		}
		INPUT_RESOURCE
		{
			ResourceName = Fertilizer
			Ratio =  0.00003
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Supplies
			Ratio = 0.0003
			DumpExcess = False
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 6.33
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0000040
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0000040
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 200
		}
	}

	MODULE
	{
		name = ModuleResourceConverter_USI
		ConverterName = Cultivate(D)
		StartActionName = Start Cultivate(D)
		StopActionName = Stop Cultivate(D)

		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = BotanySkill
		Efficiency = 1

		INPUT_RESOURCE
		{
			ResourceName = Dirt
			Ratio =  0.003
		}
		INPUT_RESOURCE
		{
			ResourceName = Water
			Ratio =  0.003
		}
		INPUT_RESOURCE
		{
			ResourceName = Fertilizer
			Ratio =  0.000012
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Supplies
			Ratio = 0.00012
			DumpExcess = False
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 6.13
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0000040
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0000040
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 200
		}
	}

	MODULE
	{
		name = ModuleSwappableConverter
		ResourceCosts = SpecializedParts,10,MaterialKits,50,ElectricCharge,50
		bayName = Rack
		typeName = Bay
	}
}